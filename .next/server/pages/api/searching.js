"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/searching";
exports.ids = ["pages/api/searching"];
exports.modules = {

/***/ "(api)/./pages/api/searching/index.js":
/*!**************************************!*\
  !*** ./pages/api/searching/index.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\nasync function handler(req, res) {\n    const fetchOptions = {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n            \"Access-Control-Request-Headers\": \"*\",\n            \"api-key\": \"Ko0mpGFlX4QtPtZ12pEQKoyh9XWJip2ixOs0nU2JZbEutSD41TylXp0DsaI2dvLL\"\n        }\n    };\n    const fetchBody = {\n        dataSource: \"Cluster0\",\n        database: \"sample_airbnb\",\n        collection: \"listingsAndReviews\"\n    };\n    const baseUrl = `https://data.mongodb-api.com/app/data-eoohy/endpoint/data/v1/action`;\n    try {\n        switch(req.method){\n            case \"GET\":\n                const readData = await fetch(`${baseUrl}/find`, {\n                    ...fetchOptions,\n                    body: JSON.stringify({\n                        ...fetchBody,\n                        sort: {\n                            postedAt: -1\n                        }\n                    })\n                });\n                const readDataJson = await readData.json();\n                res.status(200).json(readDataJson.documents);\n                break;\n            case \"POST\":\n                const searching = req.body;\n                const insertData = await fetch(`${baseUrl}/insertOne`, {\n                    ...fetchOptions,\n                    body: JSON.stringify({\n                        ...fetchBody,\n                        document: searching\n                    })\n                });\n                const insertDataJson = await insertData.json();\n                res.status(200).json(insertDataJson);\n                break;\n            default:\n                res.status(405).end();\n                break;\n        }\n    } catch (error) {\n        console.error(error);\n        res.status(500).json({\n            error\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvc2VhcmNoaW5nL2luZGV4LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBZSxlQUFlQSxPQUFPLENBQUNDLEdBQUcsRUFBRUMsR0FBRyxFQUFFO0lBQzlDLE1BQU1DLFlBQVksR0FBRztRQUNuQkMsTUFBTSxFQUFFLE1BQU07UUFDZEMsT0FBTyxFQUFFO1lBQ1AsY0FBYyxFQUFFLGtCQUFrQjtZQUNsQyxnQ0FBZ0MsRUFBRSxHQUFHO1lBQ3JDLFNBQVMsRUFDUCxrRUFBa0U7U0FDckU7S0FDRjtJQUNELE1BQU1DLFNBQVMsR0FBRztRQUNoQkMsVUFBVSxFQUFFLFVBQVU7UUFDdEJDLFFBQVEsRUFBRSxlQUFlO1FBQ3pCQyxVQUFVLEVBQUUsb0JBQW9CO0tBQ2pDO0lBQ0QsTUFBTUMsT0FBTyxHQUFHLENBQUMsbUVBQW1FLENBQUM7SUFFckYsSUFBSTtRQUNGLE9BQVFULEdBQUcsQ0FBQ0csTUFBTTtZQUNoQixLQUFLLEtBQUs7Z0JBQ1IsTUFBTU8sUUFBUSxHQUFHLE1BQU1DLEtBQUssQ0FBQyxDQUFDLEVBQUVGLE9BQU8sQ0FBQyxLQUFLLENBQUMsRUFBRTtvQkFDOUMsR0FBR1AsWUFBWTtvQkFDZlUsSUFBSSxFQUFFQyxJQUFJLENBQUNDLFNBQVMsQ0FBQzt3QkFDbkIsR0FBR1QsU0FBUzt3QkFDWlUsSUFBSSxFQUFFOzRCQUFFQyxRQUFRLEVBQUUsQ0FBQyxDQUFDO3lCQUFFO3FCQUN2QixDQUFDO2lCQUNILENBQUM7Z0JBQ0YsTUFBTUMsWUFBWSxHQUFHLE1BQU1QLFFBQVEsQ0FBQ1EsSUFBSSxFQUFFO2dCQUMxQ2pCLEdBQUcsQ0FBQ2tCLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0QsSUFBSSxDQUFDRCxZQUFZLENBQUNHLFNBQVMsQ0FBQyxDQUFDO2dCQUM3QyxNQUFNO1lBQ1IsS0FBSyxNQUFNO2dCQUNULE1BQU1DLFNBQVMsR0FBR3JCLEdBQUcsQ0FBQ1ksSUFBSTtnQkFDMUIsTUFBTVUsVUFBVSxHQUFHLE1BQU1YLEtBQUssQ0FBQyxDQUFDLEVBQUVGLE9BQU8sQ0FBQyxVQUFVLENBQUMsRUFBRTtvQkFDckQsR0FBR1AsWUFBWTtvQkFDZlUsSUFBSSxFQUFFQyxJQUFJLENBQUNDLFNBQVMsQ0FBQzt3QkFDbkIsR0FBR1QsU0FBUzt3QkFDWmtCLFFBQVEsRUFBRUYsU0FBUztxQkFDcEIsQ0FBQztpQkFDSCxDQUFDO2dCQUNGLE1BQU1HLGNBQWMsR0FBRyxNQUFNRixVQUFVLENBQUNKLElBQUksRUFBRTtnQkFDOUNqQixHQUFHLENBQUNrQixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNELElBQUksQ0FBQ00sY0FBYyxDQUFDLENBQUM7Z0JBQ3JDLE1BQU07WUFDUjtnQkFDRXZCLEdBQUcsQ0FBQ2tCLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ00sR0FBRyxFQUFFLENBQUM7Z0JBQ3RCLE1BQU07U0FDVDtJQUNILEVBQUUsT0FBT0MsS0FBSyxFQUFFO1FBQ2RDLE9BQU8sQ0FBQ0QsS0FBSyxDQUFDQSxLQUFLLENBQUMsQ0FBQztRQUNyQnpCLEdBQUcsQ0FBQ2tCLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0QsSUFBSSxDQUFDO1lBQUVRLEtBQUs7U0FBRSxDQUFDLENBQUM7SUFDbEMsQ0FBQztBQUNILENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1hcHAvLi9wYWdlcy9hcGkvc2VhcmNoaW5nL2luZGV4LmpzP2EyNGIiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcykge1xuICBjb25zdCBmZXRjaE9wdGlvbnMgPSB7XG4gICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICBoZWFkZXJzOiB7XG4gICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIFwiQWNjZXNzLUNvbnRyb2wtUmVxdWVzdC1IZWFkZXJzXCI6IFwiKlwiLFxuICAgICAgXCJhcGkta2V5XCI6XG4gICAgICAgIFwiS28wbXBHRmxYNFF0UHRaMTJwRVFLb3loOVhXSmlwMml4T3MwblUySlpiRXV0U0Q0MVR5bFhwMERzYUkyZHZMTFwiLFxuICAgIH0sXG4gIH07XG4gIGNvbnN0IGZldGNoQm9keSA9IHtcbiAgICBkYXRhU291cmNlOiBcIkNsdXN0ZXIwXCIsXG4gICAgZGF0YWJhc2U6IFwic2FtcGxlX2FpcmJuYlwiLFxuICAgIGNvbGxlY3Rpb246IFwibGlzdGluZ3NBbmRSZXZpZXdzXCIsXG4gIH07XG4gIGNvbnN0IGJhc2VVcmwgPSBgaHR0cHM6Ly9kYXRhLm1vbmdvZGItYXBpLmNvbS9hcHAvZGF0YS1lb29oeS9lbmRwb2ludC9kYXRhL3YxL2FjdGlvbmA7XG5cbiAgdHJ5IHtcbiAgICBzd2l0Y2ggKHJlcS5tZXRob2QpIHtcbiAgICAgIGNhc2UgXCJHRVRcIjpcbiAgICAgICAgY29uc3QgcmVhZERhdGEgPSBhd2FpdCBmZXRjaChgJHtiYXNlVXJsfS9maW5kYCwge1xuICAgICAgICAgIC4uLmZldGNoT3B0aW9ucyxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAuLi5mZXRjaEJvZHksXG4gICAgICAgICAgICBzb3J0OiB7IHBvc3RlZEF0OiAtMSB9LFxuICAgICAgICAgIH0pLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcmVhZERhdGFKc29uID0gYXdhaXQgcmVhZERhdGEuanNvbigpO1xuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbihyZWFkRGF0YUpzb24uZG9jdW1lbnRzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiUE9TVFwiOlxuICAgICAgICBjb25zdCBzZWFyY2hpbmcgPSByZXEuYm9keTtcbiAgICAgICAgY29uc3QgaW5zZXJ0RGF0YSA9IGF3YWl0IGZldGNoKGAke2Jhc2VVcmx9L2luc2VydE9uZWAsIHtcbiAgICAgICAgICAuLi5mZXRjaE9wdGlvbnMsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgLi4uZmV0Y2hCb2R5LFxuICAgICAgICAgICAgZG9jdW1lbnQ6IHNlYXJjaGluZyxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGluc2VydERhdGFKc29uID0gYXdhaXQgaW5zZXJ0RGF0YS5qc29uKCk7XG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKGluc2VydERhdGFKc29uKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXMuc3RhdHVzKDQwNSkuZW5kKCk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yIH0pO1xuICB9XG59XG4iXSwibmFtZXMiOlsiaGFuZGxlciIsInJlcSIsInJlcyIsImZldGNoT3B0aW9ucyIsIm1ldGhvZCIsImhlYWRlcnMiLCJmZXRjaEJvZHkiLCJkYXRhU291cmNlIiwiZGF0YWJhc2UiLCJjb2xsZWN0aW9uIiwiYmFzZVVybCIsInJlYWREYXRhIiwiZmV0Y2giLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInNvcnQiLCJwb3N0ZWRBdCIsInJlYWREYXRhSnNvbiIsImpzb24iLCJzdGF0dXMiLCJkb2N1bWVudHMiLCJzZWFyY2hpbmciLCJpbnNlcnREYXRhIiwiZG9jdW1lbnQiLCJpbnNlcnREYXRhSnNvbiIsImVuZCIsImVycm9yIiwiY29uc29sZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/searching/index.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/searching/index.js"));
module.exports = __webpack_exports__;

})();